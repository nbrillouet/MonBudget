<div id="product" class="page-layout carded fullwidth" fusePerfectScrollbar>

  <!-- TOP BACKGROUND -->
  <div class="top-bg mat-accent-bg"></div>
  <!-- / TOP BACKGROUND -->

  <!-- CENTER -->
  <div class="center">

      <!-- HEADER -->
      <div class="header white-fg" fxLayout="row" fxLayoutAlign="space-between center">

          <!-- APP TITLE -->
          <div fxLayout="row" fxLayoutAlign="start center">

              <button class="mr-0 mr-sm-16" mat-icon-button [routerLink]="'/apps/users'">
                  <mat-icon>arrow_back</mat-icon>
              </button>

              <div class="product-image mr-8 mr-sm-16" *fuseIfOnDom [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">
                  <img *ngIf="user.avatarUrl" [src]="user.avatarUrl">
                  <img *ngIf="!user.avatarUrl" [src]="'assets/images/ecommerce/product-image-placeholder.png'">
              </div>

              <div fxLayout="column" fxLayoutAlign="start start"
                   *fuseIfOnDom [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                  <div class="h2" *ngIf="pageType ==='edit'">
                      {{user.userName}}
                  </div>
                  <div class="h2" *ngIf="pageType ==='new'">
                      Nouveau Utilisateur
                  </div>
                  <div class="subtitle secondary-text">
                      <span>Details Utilisateur</span>
                  </div>
              </div>
          </div>
          <!-- / APP TITLE -->

          <!-- <button mat-raised-button
                  class="save-product-button mat-white-bg mt-16 mt-sm-0"
                  [disabled]="productForm.invalid"
                  *ngIf="pageType ==='new'" (click)="addProduct()">
              <span>ADD</span>
          </button> -->

          <button mat-raised-button
                  class="save-product-button mat-white-bg mt-16 mt-sm-0"
                  [disabled]="userForm.invalid || userForm.pristine"
                  *ngIf="pageType ==='edit'" (click)="saveUser()">
              <span>SAVE</span>
          </button>
      </div>
      <!-- / HEADER -->

      <!-- CONTENT CARD -->
      <div class="content-card mat-white-bg">

          <!-- CONTENT -->
          <div class="content">
            <div *ngIf='userForm'>
              <form name="userForm" [formGroup]="userForm" class="product w-100-p" fxLayout="column" fxFlex>

                  <mat-tab-group>

                      <mat-tab label="Basic Info">
                          <div class="tab-content p-24" fusePerfectScrollbar>
                            
                            <mat-card class="avatar-card">
                                <mat-card-header>
                                    <mat-card-title>Avatar</mat-card-title>
                                </mat-card-header>
                                <div class="image-padding">
                                    <img mat-card-image src="{{user.avatarUrl}}" alt="{{user.userName}}">
                                </div>
                                <mat-card-actions>
                                        <div class="row">
 
                                                <div class="col-md-3">
                                         
                                                    <h3>Select files</h3>
                                         
                                                    <div ng2FileDrop
                                                         [ngClass]="{'nv-file-over': hasBaseDropZoneOver}"
                                                         (fileOver)="fileOverBase($event)"
                                                         [uploader]="uploader"
                                                         class="well my-drop-zone">
                                                        Base drop zone
                                                    </div>
                                         
                                                    <div ng2FileDrop
                                                         [ngClass]="{'another-file-over-class': hasAnotherDropZoneOver}"
                                                         (fileOver)="fileOverAnother($event)"
                                                         [uploader]="uploader"
                                                         class="well my-drop-zone">
                                                        Another drop zone
                                                    </div>
                                         
                                                    Multiple
                                                    <input type="file" ng2FileSelect [uploader]="uploader" multiple  /><br/>
                                         
                                                    Single
                                                    <input type="file" ng2FileSelect [uploader]="uploader" />
                                                </div>
                                         
                                                <div class="col-md-9" style="margin-bottom: 40px">
                                         
                                                    <h3>Upload queue</h3>
                                                    <p>Queue length: {{ uploader?.queue?.length }}</p>
                                         
                                                    <table class="table">
                                                        <thead>
                                                        <tr>
                                                            <th width="50%">Name</th>
                                                            <th>Size</th>
                                                            <th>Progress</th>
                                                            <th>Status</th>
                                                            <th>Actions</th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr *ngFor="let item of uploader.queue">
                                                            <td><strong>{{ item?.file?.name }}</strong></td>
                                                            <td *ngIf="uploader.isHTML5" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>
                                                            <td *ngIf="uploader.isHTML5">
                                                                <div class="progress" style="margin-bottom: 0;">
                                                                    <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div>
                                                                </div>
                                                            </td>
                                                            <td class="text-center">
                                                                <span *ngIf="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                                                                <span *ngIf="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                                                <span *ngIf="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                                                            </td>
                                                            <td nowrap>
                                                                <button type="button" class="btn btn-success btn-xs"
                                                                        (click)="item.upload()" [disabled]="item.isReady || item.isUploading || item.isSuccess">
                                                                    <span class="glyphicon glyphicon-upload"></span> Upload
                                                                </button>
                                                                <button type="button" class="btn btn-warning btn-xs"
                                                                        (click)="item.cancel()" [disabled]="!item.isUploading">
                                                                    <span class="glyphicon glyphicon-ban-circle"></span> Cancel
                                                                </button>
                                                                <button type="button" class="btn btn-danger btn-xs"
                                                                        (click)="item.remove()">
                                                                    <span class="glyphicon glyphicon-trash"></span> Remove
                                                                </button>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                         
                                                    <div>
                                                        <div>
                                                            Queue progress:
                                                            <div class="progress" style="">
                                                                <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': uploader.progress + '%' }"></div>
                                                            </div>
                                                        </div>
                                                        <button type="button" class="btn btn-success btn-s"
                                                                (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length">
                                                            <span class="glyphicon glyphicon-upload"></span> Upload all
                                                        </button>
                                                        <button type="button" class="btn btn-warning btn-s"
                                                                (click)="uploader.cancelAll()" [disabled]="!uploader.isUploading">
                                                            <span class="glyphicon glyphicon-ban-circle"></span> Cancel all
                                                        </button>
                                                        <button type="button" class="btn btn-danger btn-s"
                                                                (click)="uploader.clearQueue()" [disabled]="!uploader.queue.length">
                                                            <span class="glyphicon glyphicon-trash"></span> Remove all
                                                        </button>
                                                    </div>
                                         
                                                </div>
                                         
                                            </div>

                                    <button mat-button>LIKE</button>
                                    <button mat-button>SHARE</button>
                                </mat-card-actions>
                            </mat-card>
                            
                                    
                            <div class="mb-24" fxLayout="row" fxLayoutAlign="start start">
                                <mat-icon class="mr-12 mt-12">account_circle</mat-icon>
                                <mat-form-field class="w-100-p">
                                    <input matInput
                                            name="userName"
                                            formControlName="userName"
                                            placeholder="Pseudonyme"
                                            required>
                                </mat-form-field>
                            </div>
                            
                            

                              <!-- <mat-form-field class="w-100-p">
                                  <textarea matInput
                                            name="description"
                                            formControlName="description"
                                            placeholder="Product Description"
                                            rows="5">
                                  </textarea>
                              </mat-form-field>

                              <h3 class="mb-0">Categories</h3>
                              <mat-form-field class="w-100-p" floatPlaceholder="never">
                                  <mat-chip-list matPrefix #categoryList
                                                 name="categories"
                                                 formControlName="categories">

                                      <mat-chip *ngFor="let category of product.categories"
                                                removable="true" (removed)="product.removeCategory(category)">
                                          {{category}}
                                          <mat-icon matChipRemove>cancel</mat-icon>
                                      </mat-chip>
                                  </mat-chip-list>
                                  <input matInput
                                         matChipInputAddOnBlur="true"
                                         (matChipInputTokenEnd)="product.addCategory($event)"
                                         placeholder="Add category..."
                                         [matChipInputFor]="categoryList"/>
                              </mat-form-field>

                              <h3 class="mb-0">Tags</h3>
                              <mat-form-field class="w-100-p" floatPlaceholder="never">
                                  <mat-chip-list matPrefix #tagList
                                                 name="tags"
                                                 formControlName="tags">

                                      <mat-chip *ngFor="let tag of product.tags"
                                                removable="true" (removed)="product.removeTag(tag)">
                                          {{tag}}
                                          <mat-icon matChipRemove>cancel</mat-icon>
                                      </mat-chip>
                                  </mat-chip-list>
                                  <input matInput
                                         matChipInputAddOnBlur="true"
                                         (matChipInputTokenEnd)="product.addTag($event)"
                                         placeholder="Add tag..."
                                         [matChipInputFor]="tagList"/>
                              </mat-form-field> -->
                          </div>
                      </mat-tab>
<!-- 
                      <mat-tab label="Product Images">
                          <div class="tab-content p-24" fusePerfectScrollbar>
                              <div fxLayout="row" fxLayoutAlign="start start" fxLayoutWrap>

                                  <div *ngIf="product.images.length === 0"
                                       class="product-image" fxlayout="row" fxLayoutAlign="center center">
                                      <img class="media" [src]="'assets/images/ecommerce/product-image-placeholder.png'">
                                  </div>

                                  <div *ngFor="let image of product.images">
                                      <div *ngIf="product.images.length > 0"
                                           class="product-image" fxlayout="row" fxLayoutAlign="center center">
                                          <img class="media" [src]="image.url">
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </mat-tab>

                      <mat-tab label="Pricing">
                          <div class="tab-content p-24" fusePerfectScrollbar>

                              <mat-form-field class="w-100-p">
                                  <input matInput
                                         name="priceTaxExcl"
                                         formControlName="priceTaxExcl"
                                         placeholder="Tax Excluded Price" type="number">
                                  <span matPrefix>$&nbsp;</span>
                              </mat-form-field>

                              <mat-form-field class="w-100-p">
                                  <input matInput
                                         name="priceTaxIncl"
                                         formControlName="priceTaxIncl"
                                         placeholder="Tax Included Price" type="number">
                                  <span matPrefix>$&nbsp;</span>
                              </mat-form-field>

                              <mat-form-field class="w-100-p">
                                  <input matInput
                                         name="taxRate"
                                         formControlName="taxRate"
                                         placeholder="Tax Rate" type="number">
                                  <span matPrefix>&#37;</span>
                              </mat-form-field>

                              <mat-form-field class="w-100-p">
                                  <input matInput
                                         name="comparedPrice"
                                         formControlName="comparedPrice"
                                         placeholder="Compared Price" type="number">
                                  <span matPrefix>$&nbsp;</span>
                                  <mat-hint align="start">Add a compare price to show next to the real price</mat-hint>
                              </mat-form-field>

                          </div>
                      </mat-tab>

                      <mat-tab label="Inventory">
                          <div class="tab-content p-24" fusePerfectScrollbar>

                              <mat-form-field class="w-100-p">
                                  <input matInput
                                         name="sku"
                                         formControlName="sku"
                                         placeholder="SKU">
                              </mat-form-field>

                              <mat-form-field class="w-100-p">
                                  <input matInput
                                         name="quantity"
                                         formControlName="quantity"
                                         placeholder="Quantity" type="number">
                              </mat-form-field>
                          </div>
                      </mat-tab>

                      <mat-tab label="Shipping">
                          <div class="tab-content p-24" fusePerfectScrollbar fxLayout="column">

                              <div class="py-16" fxLayout="row">
                                  <mat-form-field fxFlex>
                                      <input matInput
                                             name="Width"
                                             formControlName="width"
                                             placeholder="Width">
                                  </mat-form-field>
                                  <mat-form-field fxFlex>
                                      <input matInput
                                             name="Height"
                                             formControlName="height"
                                             placeholder="Height">
                                  </mat-form-field>
                                  <mat-form-field fxFlex>
                                      <input matInput
                                             name="Depth"
                                             formControlName="depth"
                                             placeholder="Depth">
                                  </mat-form-field>
                              </div>

                              <mat-form-field class="w-100-p">
                                  <input matInput
                                         name="Weight"
                                         formControlName="weight"
                                         placeholder="Weight">
                              </mat-form-field>

                              <mat-form-field class="w-100-p">
                                  <input matInput
                                         name="extraShippingFee"
                                         formControlName="extraShippingFee"
                                         placeholder="Extra Shipping Fee" type="number">
                                  <span matPrefix>$&nbsp;</span>
                              </mat-form-field>
                          </div>
                      </mat-tab> -->

                  </mat-tab-group>
              </form>
            </div>
          </div>
          <!-- / CONTENT -->

      </div>
      <!-- / CONTENT CARD -->

  </div>
  <!-- / CENTER -->
</div>